<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü•ö NFT Eggs | –ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ —è–π—Ü–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #8B5FBF;
            --primary-dark: #6B46C1;
            --secondary: #FF6B6B;
            --accent: #4ECDC4;
            --gold: #FFD700;
            --dark: #1A1A2E;
            --darker: #16213E;
            --light: #F8F9FA;
            --success: #27AE60;
            --danger: #E74C3C;
            --warning: #F39C12;
        }

        body {
            background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--light);
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(139, 95, 191, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(78, 205, 196, 0.1) 0%, transparent 20%);
        }

        .game-container {
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            max-width: 430px;
            width: 100%;
            text-align: center;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .player-id {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(135deg, var(--gold), #FFA500);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: bold;
            color: var(--dark);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .header {
            margin-bottom: 25px;
            margin-top: 10px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 15px rgba(139, 95, 191, 0.3);
        }

        .egg-display {
            margin: 25px 0;
            position: relative;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .egg {
            font-size: 100px;
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
        }

        .custom-duck {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--gold);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
            animation: float 3s ease-in-out infinite;
            margin: 0 auto 15px auto;
            display: block;
        }

        .egg-type {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
            margin-top: 10px;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(139, 95, 191, 0.3);
        }

        .timer {
            background: linear-gradient(135deg, var(--warning), var(--danger));
            color: white;
            padding: 10px 20px;
            border-radius: 15px;
            margin: 10px 0;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
            display: none;
        }

        .hatch-btn {
            background: linear-gradient(135deg, var(--success), #2ecc71);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px 0;
            font-size: 16px;
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
            transition: all 0.3s ease;
            display: none;
        }

        .hatch-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.6);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-10px) scale(1.05); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            color: white;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            margin-top: 5px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .food-count {
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
            padding: 12px 20px;
            border-radius: 15px;
            margin: 15px 0;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .actions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary), #FF4757);
            color: white;
        }

        .btn-admin {
            background: linear-gradient(135deg, var(--gold), #FFA500);
            color: var(--dark);
            font-weight: bold;
            margin: 15px 0;
            width: 100%;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .menu-section {
            margin-top: 25px;
        }

        .menu-btn {
            background: linear-gradient(135deg, var(--accent), #1DD1A1);
            color: white;
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
        }

        .menu-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(78, 205, 196, 0.5);
        }

        .info-text {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 15px;
            margin-top: 20px;
            font-size: 14px;
            color: #ccc;
            line-height: 1.4;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-panel {
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
            border-radius: 20px;
            padding: 25px;
            margin-top: 20px;
            color: white;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .admin-panel.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .admin-controls {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .admin-input {
            padding: 12px 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .admin-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(139, 95, 191, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #C0392B);
            color: white;
            margin-top: 10px;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            z-index: 1000;
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .notification.show {
            opacity: 1;
            transform: translateX(0);
        }

        .admin-header {
            text-align: center;
            margin-bottom: 20px;
            color: var(--gold);
            font-size: 1.3em;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
        }

        .shop-modal, .confirm-modal, .inventory-modal, .withdraw-modal, .quests-modal, .referral-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease-out;
        }

        .shop-modal.active, .confirm-modal.active, .inventory-modal.active, .withdraw-modal.active, .quests-modal.active, .referral-modal.active {
            display: flex;
        }

        .shop-content, .confirm-content, .inventory-content, .withdraw-content, .quests-content, .referral-content {
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            animation: scaleIn 0.3s ease-out;
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .shop-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .shop-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }

        .inventory-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .inventory-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .quest-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            margin: 10px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .quest-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .quest-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .quest-progress {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 8px;
            margin: 10px 0;
            overflow: hidden;
        }

        .quest-progress-bar {
            background: linear-gradient(135deg, var(--success), var(--accent));
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .quest-reward {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
            font-size: 14px;
            color: var(--gold);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .close-btn:hover {
            transform: rotate(90deg);
            background: #C0392B;
        }

        .confirm-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
        }

        .dead-egg {
            filter: grayscale(1) brightness(0.5);
            opacity: 0.7;
        }

        .death-message {
            color: var(--danger);
            font-weight: bold;
            margin: 10px 0;
            text-shadow: 0 2px 10px rgba(231, 76, 60, 0.3);
        }

        .empty-inventory {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .withdraw-btn {
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .withdraw-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.5);
        }

        .quest-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 95, 191, 0.3);
        }

        .quest-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.5);
        }

        .quest-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .withdraw-log {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .withdraw-log:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .balance-info {
            background: linear-gradient(135deg, var(--gold), #FFA500);
            color: var(--dark);
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            font-weight: bold;
            font-size: 14px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stat-progress {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 6px;
            margin-top: 8px;
            overflow: hidden;
        }

        .hunger-progress {
            background: linear-gradient(135deg, var(--success), #27ae60);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .mood-progress {
            background: linear-gradient(135deg, var(--accent), #1DD1A1);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∑–≤–µ–∑–¥—ã –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ */
        .stars-display {
            color: var(--gold);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø—Ä–µ–º–∏—É–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .premium-border {
            position: relative;
            border-radius: 20px;
            padding: 2px;
            background: linear-gradient(135deg, var(--gold), var(--accent), var(--primary), var(--secondary));
        }

        .premium-border::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 18px;
            background: var(--dark);
            z-index: -1;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="player-id">ID: <span id="playerId">–ó–∞–≥—Ä—É–∑–∫–∞...</span></div>
        
        <div class="header">
            <h1>ü•ö NFT Eggs</h1>
            <div class="egg-display">
                <!-- –í–ê–®–ê –£–¢–ö–ê –ó–î–ï–°–¨ -->
                <img src="https://i.ibb.co/99bLxfGr/image.png" alt="–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —É—Ç–∫–∞" class="custom-duck" id="duckDisplay">
                <div class="egg-type" id="eggTypeDisplay">‚ú® –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —É—Ç–∫–∞</div>
                <div class="timer" id="eggTimer" style="display: none;">–î–æ –≤—ã–ª—É–ø–ª–µ–Ω–∏—è: <span id="timerValue">17:00:00</span></div>
                <button class="hatch-btn" id="hatchBtn" style="display: none;">üéÅ –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç!</button>
                <div id="deathMessage" class="death-message" style="display: none;">üíÄ –£—Ç–∫–∞ —É–º–µ—Ä–ª–∞! –ö—É–ø–∏—Ç–µ –Ω–æ–≤—É—é</div>
            </div>
        </div>
        
        <div class="food-count" id="foodCount">üçé –ï–¥—ã: 3</div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div>üçΩÔ∏è –°—ã—Ç–æ—Å—Ç—å</div>
                <div class="stat-value" id="hungerValue">25/100</div>
                <div class="stat-progress">
                    <div class="hunger-progress" id="hungerProgress" style="width: 25%;"></div>
                </div>
            </div>
            <div class="stat-card">
                <div>üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</div>
                <div class="stat-value" id="moodValue">97/100</div>
                <div class="stat-progress">
                    <div class="mood-progress" id="moodProgress" style="width: 97%;"></div>
                </div>
            </div>
            <div class="stat-card">
                <div>‚≠ê –ó–≤—ë–∑–¥—ã</div>
                <div class="stat-value stars-display" id="starsValue">0</div>
            </div>
            <div class="stat-card">
                <div>üéí –ü—Ä–µ–¥–º–µ—Ç—ã</div>
                <div class="stat-value" id="itemsValue">0</div>
            </div>
        </div>
        
        <div class="actions-grid">
            <button class="btn btn-primary" id="feedBtn">üçé –ü–æ–∫–æ—Ä–º–∏—Ç—å</button>
            <button class="btn btn-secondary" id="playBtn">üéÆ –ü–æ–∏–≥—Ä–∞—Ç—å</button>
        </div>

        <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
        <button class="btn btn-admin" id="adminToggle" style="display: none;">üîß –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</button>
        
        <div class="menu-section">
            <button class="menu-btn" id="shopBtn">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
            <button class="menu-btn" id="inventoryBtn">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
            <button class="menu-btn" id="questsBtn">üéØ –ó–∞–¥–∞–Ω–∏—è</button>
            <button class="menu-btn" id="referralBtn">üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</button>
        </div>

        <div class="balance-info pulse">
            üíé –ß—Ç–æ–±—ã –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å, –ø–æ–¥–∞—Ä–∏—Ç–µ –ø–æ–¥–∞—Ä–æ–∫ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç @NFT_c0llecti0n
        </div>

        <div class="info-text">
            <strong>üéÆ –£—Ö–∞–∂–∏–≤–∞–π—Ç–µ –∑–∞ —É—Ç–∫–æ–π!</strong><br>
            –ö–æ—Ä–º–∏—Ç–µ –∏ –∏–≥—Ä–∞–π—Ç–µ —Å —É—Ç–∫–æ–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ NFT-–ø—Ä–µ–¥–º–µ—Ç—ã
        </div>

        <div class="admin-panel" id="adminPanel">
            <div class="admin-controls">
                <div class="admin-header">üîß –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</div>
                
                <input type="text" class="admin-input" placeholder="ID –∏–≥—Ä–æ–∫–∞" id="adminPlayerId">
                <input type="number" class="admin-input" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥" id="adminStars">
                
                <button class="btn btn-admin" id="adminApply">‚úÖ –í—ã–¥–∞—Ç—å –∑–≤—ë–∑–¥—ã</button>
                <button class="btn btn-danger" id="adminReset">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
                
                <div class="admin-header" style="margin-top: 20px;">üìä –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥</div>
                <div id="withdrawRequests"></div>

                <div class="admin-header" style="margin-top: 20px;">üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏–π</div>
                <input type="text" class="admin-input" placeholder="ID –∏–≥—Ä–æ–∫–∞" id="verifyPlayerId">
                <select class="admin-input" id="verifyQuestType">
                    <option value="subscribe">–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª</option>
                    <option value="invite">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π</option>
                </select>
                <button class="btn btn-admin" id="verifyQuest">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="shop-modal" id="shopModal">
        <div class="shop-content">
            <button class="close-btn" id="closeShop">√ó</button>
            <h2>üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
            
            <div class="shop-item">
                <div>
                    <strong>‚ú® –ó–æ–ª–æ—Ç–∞—è —É—Ç–∫–∞</strong><br>
                    <small>–®–∞–Ω—Å—ã: –í–∏–Ω–æ 50%, –ö–∞–ª–µ–Ω–¥–∞—Ä—å 25%, –®–∞–ø–∫–∞ –°–∞–Ω—Ç—ã 5%, –ö–æ–Ω—Ñ–µ—Ç—ã 2%</small>
                </div>
                <button class="btn btn-primary" style="padding: 10px 20px;" onclick="buyItem('gold_egg', 100)">100 ‚≠ê</button>
            </div>
            
            <div class="shop-item">
                <div>
                    <strong>üçé –ï–¥–∞ (3 —à—Ç)</strong><br>
                    <small>–ü–æ–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø–∞—Å –µ–¥—ã –¥–ª—è –∫–æ—Ä–º–ª–µ–Ω–∏—è</small>
                </div>
                <button class="btn btn-primary" style="padding: 10px 20px;" onclick="buyItem('food', 20)">20 ‚≠ê</button>
            </div>
            
            <div class="shop-item">
                <div>
                    <strong>ü¶Ü –û–±—ã—á–Ω–∞—è —É—Ç–∫–∞</strong><br>
                    <small>–®–∞–Ω—Å—ã: –°–µ—Ä–¥–µ—á–∫–æ 40%, –†–æ–∑–∞ 25%, –ö–∞–ª–µ–Ω–¥–∞—Ä—å 5%</small>
                </div>
                <button class="btn btn-primary" style="padding: 10px 20px;" onclick="buyItem('normal_egg', 50)">50 ‚≠ê</button>
            </div>
        </div>
    </div>

    <div class="confirm-modal" id="confirmModal">
        <div class="confirm-content">
            <h3>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏</h3>
            <p id="confirmText">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç?</p>
            <div class="confirm-buttons">
                <button class="btn btn-secondary" onclick="closeConfirm()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="confirmPurchase()">–ö—É–ø–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div class="inventory-modal" id="inventoryModal">
        <div class="inventory-content">
            <button class="close-btn" onclick="closeInventory()">√ó</button>
            <h2>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
            <div id="inventoryItems"></div>
        </div>
    </div>

    <div class="withdraw-modal" id="withdrawModal">
        <div class="withdraw-content">
            <button class="close-btn" onclick="closeWithdraw()">√ó</button>
            <h2>üì§ –ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥</h2>
            <div class="info-text">
                <p>–í—ã —Ö–æ—Ç–∏—Ç–µ –≤—ã–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç: <strong id="withdrawItemName"></strong></p>
                <p>–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à Telegram username –¥–ª—è —Å–≤—è–∑–∏:</p>
                <input type="text" class="admin-input" id="telegramUsername" placeholder="@username">
                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="submitWithdraw()">‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
        </div>
    </div>

    <div class="quests-modal" id="questsModal">
        <div class="quests-content">
            <button class="close-btn" onclick="closeQuests()">√ó</button>
            <h2>üéØ –ó–∞–¥–∞–Ω–∏—è</h2>
            <div id="questsList"></div>
        </div>
    </div>

    <div class="referral-modal" id="referralModal">
        <div class="referral-content">
            <button class="close-btn" onclick="closeReferral()">√ó</button>
            <h2>üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h2>
            <div class="info-text">
                <p>–í–≤–µ–¥–∏—Ç–µ ID –≤–∞—à–µ–≥–æ –¥—Ä—É–≥–∞, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å:</p>
                <input type="text" class="admin-input" id="friendId" placeholder="ID –¥—Ä—É–≥–∞">
                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="applyReferral()">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–¥</button>
                <div style="margin-top: 15px; font-size: 12px; color: #ccc;">
                    <strong>–í–∞—à ID –¥–ª—è –¥—Ä—É–∑–µ–π:</strong><br>
                    <span id="yourIdDisplay" style="background: #444; padding: 8px; border-radius: 8px; display: block; margin: 8px 0; font-family: monospace; word-break: break-all;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    –î—Ä—É–∑—å—è –¥–æ–ª–∂–Ω—ã –≤–≤–µ—Å—Ç–∏ —ç—Ç–æ—Ç –∫–æ–¥ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        // –ê–î–ú–ò–ù –î–û–°–¢–£–ü - —Ç–æ–ª—å–∫–æ –¥–ª—è –º–æ–µ–≥–æ ID
        const ADMIN_USER_ID = "USER_1761399526979_swpx4n20o";
        let isAdmin = false;

        // –î–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
        let playerData = {
            id: '',
            hunger: 25,
            mood: 97,
            stars: 0,
            items: [],
            eggType: 'normal',
            foodCount: 3,
            isAlive: true,
            eggHatchTime: null,
            isEggReady: false,
            hasFedToday: false,
            quests: {
                subscribe: { completed: false, claimed: false },
                invite: { progress: 0, target: 5, claimed: false }
            },
            referredBy: '',
            referralCount: 0,
            referralRewards: 0
        };

        // –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥
        let withdrawRequests = [];

        // –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π
        const questsData = {
            subscribe: {
                title: "üì¢ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª",
                description: "–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à Telegram –∫–∞–Ω–∞–ª",
                reward: { type: "food", amount: 1 },
                action: "subscribe"
            },
            invite: {
                title: "üë• –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π",
                description: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ 5 –¥—Ä—É–∑–µ–π –≤ –∏–≥—Ä—É",
                reward: { type: "food", amount: 3 },
                action: "invite"
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            loadPlayerData();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            checkReferral();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–¥–º–∏–Ω—Å–∫–∏–π –¥–æ—Å—Ç—É–ø
            console.log("Player ID:", playerData.id);
            console.log("Admin ID:", ADMIN_USER_ID);
            
            if (playerData.id === ADMIN_USER_ID) {
                isAdmin = true;
                document.getElementById('adminToggle').style.display = 'block';
                showNotification('üëë –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –ê–¥–º–∏–Ω!');
            }
            
            updateUI();
            startHatchTimer();
            startStatDecrease();
            updateWithdrawRequests();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏
        function checkReferral() {
            const urlParams = new URLSearchParams(window.location.search);
            const refCode = urlParams.get('ref');
            
            if (refCode && !playerData.referredBy) {
                applyReferralCode(refCode);
            }
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
        function applyReferralCode(friendId) {
            if (friendId === playerData.id) {
                showNotification('‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π ID!');
                return false;
            }

            if (playerData.referredBy) {
                showNotification('‚ùå –í—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥!');
                return false;
            }

            // –ù–∞—Ö–æ–¥–∏–º –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≥–ª–∞—Å–∏–ª
            const allPlayerKeys = Object.keys(localStorage).filter(key => key.startsWith('playerData_'));
            
            for (let key of allPlayerKeys) {
                try {
                    const player = JSON.parse(localStorage.getItem(key));
                    if (player.id === friendId && player.id !== playerData.id) {
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ
                        player.referralCount += 1;
                        player.quests.invite.progress += 1;
                        localStorage.setItem('playerData_' + player.id, JSON.stringify(player));
                        
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫—Ç–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
                        playerData.referredBy = player.id;
                        savePlayerData();
                        
                        showNotification('üéâ –ö–æ–¥ –¥—Ä—É–≥–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω! –í–∞—à –¥—Ä—É–≥ –ø–æ–ª—É—á–∏–ª +1 –∫ –ø—Ä–æ–≥—Ä–µ—Å—Å—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π.');
                        return true;
                    }
                } catch (e) {
                    console.error('Error processing referral:', e);
                }
            }
            
            showNotification('‚ùå ID –¥—Ä—É–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞.');
            return false;
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞
        function openReferral() {
            document.getElementById('friendId').value = '';
            document.getElementById('yourIdDisplay').textContent = playerData.id;
            document.getElementById('referralModal').classList.add('active');
        }

        function closeReferral() {
            document.getElementById('referralModal').classList.remove('active');
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –¥—Ä—É–≥–∞
        function applyReferral() {
            const friendId = document.getElementById('friendId').value.trim();
            
            if (!friendId) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ ID –¥—Ä—É–≥–∞!');
                return;
            }

            if (applyReferralCode(friendId)) {
                closeReferral();
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID –∏–≥—Ä–æ–∫–∞
        function generatePlayerId() {
            if (!localStorage.getItem('playerId')) {
                const id = 'USER_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('playerId', id);
            }
            return localStorage.getItem('playerId');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        function loadPlayerData() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º ID –∏–≥—Ä–æ–∫–∞
            playerData.id = generatePlayerId();
            document.getElementById('playerId').textContent = playerData.id;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
            const saved = localStorage.getItem('playerData_' + playerData.id);
            if (saved) {
                const data = JSON.parse(saved);
                playerData = { ...playerData, ...data };
                
                // –£–±–∏—Ä–∞–µ–º –ª–∏–º–∏—Ç –Ω–∞ –µ–¥—É - –≤—Å–µ–≥–¥–∞ –¥–∞–µ–º 3 –µ–¥—ã –ø—Ä–∏ –∑–∞—Ö–æ–¥–µ
                playerData.foodCount = 3;
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥
            const savedRequests = localStorage.getItem('withdrawRequests');
            if (savedRequests) {
                withdrawRequests = JSON.parse(savedRequests);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        function savePlayerData() {
            localStorage.setItem('playerData_' + playerData.id, JSON.stringify(playerData));
            localStorage.setItem('withdrawRequests', JSON.stringify(withdrawRequests));
        }

        // –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞–Ω–∏–π
        function openQuests() {
            const questsList = document.getElementById('questsList');
            let html = '';

            // –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É
            const subscribeQuest = playerData.quests.subscribe;
            const subscribeData = questsData.subscribe;
            
            html += `
                <div class="quest-item">
                    <div class="quest-header">
                        <strong>${subscribeData.title}</strong>
                        ${subscribeQuest.claimed ? 
                            '<span style="color: #27ae60;">‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>' : 
                            (subscribeQuest.completed ? 
                                '<button class="quest-btn" onclick="claimQuestReward(\'subscribe\')">üéÅ –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>' :
                                '<button class="quest-btn" onclick="openSubscribeLink()">üîó –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–Ω–∞–ª</button>'
                            )
                        }
                    </div>
                    <p>${subscribeData.description}</p>
                    <div class="quest-reward">
                        üéÅ –ù–∞–≥—Ä–∞–¥–∞: ${subscribeData.reward.amount} üçé –ï–¥–∞
                    </div>
                </div>
            `;

            // –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
            const inviteQuest = playerData.quests.invite;
            const inviteData = questsData.invite;
            const progressPercent = (inviteQuest.progress / inviteQuest.target) * 100;
            
            html += `
                <div class="quest-item">
                    <div class="quest-header">
                        <strong>${inviteData.title}</strong>
                        ${inviteQuest.claimed ? 
                            '<span style="color: #27ae60;">‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>' : 
                            (inviteQuest.progress >= inviteQuest.target ? 
                                '<button class="quest-btn" onclick="claimQuestReward(\'invite\')">üéÅ –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>' :
                                `<span>${inviteQuest.progress}/${inviteQuest.target}</span>`
                            )
                        }
                    </div>
                    <p>${inviteData.description}</p>
                    <div class="quest-progress">
                        <div class="quest-progress-bar" style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="quest-reward">
                        üéÅ –ù–∞–≥—Ä–∞–¥–∞: ${inviteData.reward.amount} üçé –ï–¥–∞
                    </div>
                    <div style="margin-top: 10px; font-size: 12px; background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px;">
                        <strong>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π:</strong><br>
                        –ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ –¥—Ä—É–∑–µ–π: <strong>${playerData.referralCount}</strong><br>
                        –ü–æ–ª—É—á–µ–Ω–æ –Ω–∞–≥—Ä–∞–¥: <strong>${playerData.referralRewards}</strong>
                    </div>
                </div>
            `;

            questsList.innerHTML = html;
            document.getElementById('questsModal').classList.add('active');
        }

        function closeQuests() {
            document.getElementById('questsModal').classList.remove('active');
        }

        function openSubscribeLink() {
            // –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à –∫–∞–Ω–∞–ª
            window.open('https://t.me/MyNFTPet', '_blank');
            showNotification('üì¢ –ü–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É" –≤ –∑–∞–¥–∞–Ω–∏—è—Ö');
        }

        function claimQuestReward(questType) {
            const quest = playerData.quests[questType];
            const questInfo = questsData[questType];
            
            if (quest.claimed) {
                showNotification('‚ùå –í—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –Ω–∞–≥—Ä–∞–¥—É –∑–∞ —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ!');
                return;
            }

            if (questType === 'subscribe' && !quest.completed) {
                showNotification('‚ùå –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ!');
                return;
            }

            if (questType === 'invite' && quest.progress < quest.target) {
                showNotification('‚ùå –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ!');
                return;
            }

            // –í—ã–¥–∞–µ–º –Ω–∞–≥—Ä–∞–¥—É
            if (questInfo.reward.type === 'food') {
                playerData.foodCount += questInfo.reward.amount;
                showNotification(`üéâ –ü–æ–ª—É—á–µ–Ω–æ ${questInfo.reward.amount} –µ–¥—ã!`);
                
                // –î–ª—è –∑–∞–¥–∞–Ω–∏—è –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞–≥—Ä–∞–¥
                if (questType === 'invite') {
                    playerData.referralRewards += 1;
                }
            }

            quest.claimed = true;
            savePlayerData();
            updateUI();
            closeQuests();
        }

        // –ê–¥–º–∏–Ω: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
        function verifyQuestCompletion() {
            if (!isAdmin) {
                showNotification('‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω!');
                return;
            }

            const playerId = document.getElementById('verifyPlayerId').value;
            const questType = document.getElementById('verifyQuestType').value;

            if (!playerId) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ ID –∏–≥—Ä–æ–∫–∞!');
                return;
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
            const savedPlayerData = localStorage.getItem('playerData_' + playerId);
            if (!savedPlayerData) {
                showNotification('‚ùå –ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }

            const player = JSON.parse(savedPlayerData);

            if (questType === 'subscribe') {
                player.quests.subscribe.completed = true;
                showNotification(`‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –¥–ª—è –∏–≥—Ä–æ–∫–∞ ${playerId}`);
            } else if (questType === 'invite') {
                player.quests.invite.progress += 1;
                showNotification(`‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –¥–ª—è –∏–≥—Ä–æ–∫–∞ ${playerId}. –¢–µ–ø–µ—Ä—å: ${player.quests.invite.progress}/5`);
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
            localStorage.setItem('playerData_' + playerId, JSON.stringify(player));

            // –ï—Å–ª–∏ —ç—Ç–æ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ - –æ–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            if (playerId === playerData.id) {
                playerData = player;
                updateUI();
            }

            document.getElementById('verifyPlayerId').value = '';
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
        function startStatDecrease() {
            // –ì–æ–ª–æ–¥ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —É–º–µ–Ω—å—à–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 1 —á–∞—Å –Ω–∞ 10
            setInterval(() => {
                if (playerData.isAlive) {
                    playerData.hunger = Math.max(0, playerData.hunger - 10);
                    playerData.mood = Math.max(0, playerData.mood - 10);
                    checkDeath();
                    savePlayerData();
                    updateUI();
                    
                    if (playerData.hunger <= 30 || playerData.mood <= 30) {
                        showNotification('‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ! –£ —É—Ç–∫–∏ –Ω–∏–∑–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏!');
                    }
                }
            }, 3600000); // 1 —á–∞—Å = 3600000 –º—Å
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–º–µ—Ä—Ç–∏ –ø–∏—Ç–æ–º—Ü–∞
        function checkDeath() {
            if ((playerData.hunger <= 0 || playerData.mood <= 0) && playerData.isAlive) {
                playerData.isAlive = false;
                showNotification('üíÄ –í–∞—à–∞ —É—Ç–∫–∞ —É–º–µ—Ä–ª–∞ –æ—Ç –≥–æ–ª–æ–¥–∞ –∏–ª–∏ –ø–ª–æ—Ö–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è! –ö—É–ø–∏—Ç–µ –Ω–æ–≤—É—é.');
                savePlayerData();
                updateUI();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞—è–≤–æ–∫ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        function updateWithdrawRequests() {
            if (!isAdmin) return;
            
            const requestsContainer = document.getElementById('withdrawRequests');
            if (withdrawRequests.length === 0) {
                requestsContainer.innerHTML = '<div class="info-text">–ù–µ—Ç –∑–∞—è–≤–æ–∫ –Ω–∞ –≤—ã–≤–æ–¥</div>';
            } else {
                let html = '';
                withdrawRequests.forEach((request, index) => {
                    html += `
                        <div class="withdraw-log">
                            <strong>üë§ ID –∏–≥—Ä–æ–∫–∞:</strong> ${request.playerId}<br>
                            <strong>üéÅ –ü—Ä–µ–¥–º–µ—Ç:</strong> ${request.item}<br>
                            <strong>üì± Telegram:</strong> ${request.telegram}<br>
                            <strong>üïí –í—Ä–µ–º—è:</strong> ${new Date(request.timestamp).toLocaleString()}<br>
                            <button class="withdraw-btn" onclick="completeWithdraw(${index})" style="margin-top: 8px;">‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
                        </div>
                    `;
                });
                requestsContainer.innerHTML = html;
            }
        }

        // –¢–∞–π–º–µ—Ä –≤—ã–ª—É–ø–ª–µ–Ω–∏—è (17 —á–∞—Å–æ–≤)
        function startHatchTimer() {
            setInterval(() => {
                if (playerData.eggHatchTime && !playerData.isEggReady) {
                    const now = Date.now();
                    const timeLeft = playerData.eggHatchTime - now;
                    
                    if (timeLeft <= 0) {
                        playerData.isEggReady = true;
                        savePlayerData();
                        updateUI();
                        showNotification('üéâ –£—Ç–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é –ø—Ä–µ–¥–º–µ—Ç–∞! –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç"');
                    } else {
                        updateTimerDisplay(timeLeft);
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay(timeLeft) {
            const hours = Math.floor(timeLeft / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            document.getElementById('timerValue').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // –°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–∞–¥–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        const dropSystem = {
            normal: [
                { item: '‚ù§Ô∏è –°–µ—Ä–¥–µ—á–∫–æ', chance: 40 },
                { item: 'üåπ –†–æ–∑–∞', chance: 25 },
                { item: 'üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å', chance: 5 },
                { item: '–ù–∏—á–µ–≥–æ', chance: 30 }
            ],
            gold: [
                { item: 'üç∑ –í–∏–Ω–æ', chance: 50 },
                { item: 'üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å', chance: 25 },
                { item: 'üéÖ –®–∞–ø–∫–∞ –°–∞–Ω—Ç—ã', chance: 5 },
                { item: 'üéÅ –ö–æ—Ä–æ–±–∫–∞ –∫–æ–Ω—Ñ–µ—Ç', chance: 2 },
                { item: '–ù–∏—á–µ–≥–æ', chance: 18 }
            ]
        };

        function getRandomItem(eggType) {
            const items = dropSystem[eggType];
            const random = Math.random() * 100;
            let currentChance = 0;
            for (const item of items) {
                currentChance += item.chance;
                if (random < currentChance) {
                    return item.item;
                }
            }
            return '–ù–∏—á–µ–≥–æ';
        }

        // –§—É–Ω–∫—Ü–∏–∏ –ø–∏—Ç–æ–º—Ü–∞
        function feedPet() {
            if (!playerData.isAlive) {
                showNotification('üíÄ –£—Ç–∫–∞ —É–º–µ—Ä–ª–∞! –ö—É–ø–∏—Ç–µ –Ω–æ–≤—É—é –≤ –º–∞–≥–∞–∑–∏–Ω–µ');
                return;
            }
            if (playerData.foodCount <= 0) {
                showNotification('‚ùå –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –µ–¥–∞! –ö—É–ø–∏—Ç–µ –≤ –º–∞–≥–∞–∑–∏–Ω–µ');
                return;
            }
            
            playerData.foodCount--;
            playerData.hunger = Math.min(100, playerData.hunger + 25);
            
            // –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ –∫–æ—Ä–º–ª–µ–Ω–∏–µ —Å–µ–≥–æ–¥–Ω—è - –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –Ω–∞ 17 —á–∞—Å–æ–≤
            if (!playerData.hasFedToday) {
                playerData.hasFedToday = true;
                playerData.eggHatchTime = Date.now() + (17 * 60 * 60 * 1000); // 17 —á–∞—Å–æ–≤
                playerData.isEggReady = false;
                showNotification('üçé –£—Ç–∫–∞ –ø–æ–∫–æ—Ä–º–ª–µ–Ω–∞! –ü—Ä–µ–¥–º–µ—Ç –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ 17 —á–∞—Å–æ–≤!');
            } else {
                showNotification('üçé –£—Ç–∫–∞ –ø–æ–∫–æ—Ä–º–ª–µ–Ω–∞!');
            }
            
            savePlayerData();
            updateUI();
        }

        function playWithPet() {
            if (!playerData.isAlive) {
                showNotification('üíÄ –£—Ç–∫–∞ —É–º–µ—Ä–ª–∞! –ö—É–ø–∏—Ç–µ –Ω–æ–≤—É—é –≤ –º–∞–≥–∞–∑–∏–Ω–µ');
                return;
            }
            if (playerData.mood >= 100) {
                showNotification('üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —É—Ç–∫–∏ —É–∂–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ!');
                return;
            }
            playerData.mood = Math.min(100, playerData.mood + 15);
            playerData.hunger = Math.max(0, playerData.hunger - 10);
            savePlayerData();
            updateUI();
            showNotification('üéÆ –í—ã –ø–æ–∏–≥—Ä–∞–ª–∏ —Å —É—Ç–∫–æ–π!');
        }

        function hatchEgg() {
            if (!playerData.isEggReady) {
                showNotification('‚ùå –ü—Ä–µ–¥–º–µ—Ç –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤!');
                return;
            }

            // –ü–æ–¥–∞—Ä–æ–∫ –≤—ã–ø–∞–¥–∞–µ—Ç –¢–û–õ–¨–ö–û –ø—Ä–∏ –≤—ã–ª—É–ø–ª–µ–Ω–∏–∏
            const gift = getRandomItem(playerData.eggType);
            
            if (gift !== '–ù–∏—á–µ–≥–æ') {
                playerData.items.push({
                    name: gift,
                    id: Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                    timestamp: Date.now()
                });
                showNotification(`üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞–º –≤—ã–ø–∞–ª–æ: ${gift}`);
            } else {
                showNotification('üò¢ –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–ø–∞–ª–æ');
            }

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            playerData.eggHatchTime = null;
            playerData.isEggReady = false;
            playerData.hasFedToday = false;
            savePlayerData();
            updateUI();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('hungerValue').textContent = playerData.hunger + '/100';
            document.getElementById('moodValue').textContent = playerData.mood + '/100';
            document.getElementById('starsValue').textContent = playerData.stars;
            document.getElementById('itemsValue').textContent = playerData.items.length;
            document.getElementById('foodCount').textContent = 'üçé –ï–¥—ã: ' + playerData.foodCount;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
            document.getElementById('hungerProgress').style.width = playerData.hunger + '%';
            document.getElementById('moodProgress').style.width = playerData.mood + '%';
            
            const duckDisplay = document.getElementById('duckDisplay');
            const eggTypeDisplay = document.getElementById('eggTypeDisplay');
            const timer = document.getElementById('eggTimer');
            const hatchBtn = document.getElementById('hatchBtn');
            const deathMessage = document.getElementById('deathMessage');
            const feedBtn = document.getElementById('feedBtn');
            const playBtn = document.getElementById('playBtn');

            if (!playerData.isAlive) {
                duckDisplay.style.filter = 'grayscale(1) brightness(0.5)';
                duckDisplay.style.opacity = '0.7';
                eggTypeDisplay.style.display = 'none';
                timer.style.display = 'none';
                hatchBtn.style.display = 'none';
                deathMessage.style.display = 'block';
                feedBtn.disabled = true;
                playBtn.disabled = true;
            } else {
                duckDisplay.style.filter = 'none';
                duckDisplay.style.opacity = '1';
                eggTypeDisplay.textContent = playerData.eggType === 'gold' ? '‚ú® –ó–æ–ª–æ—Ç–∞—è —É—Ç–∫–∞' : 'ü¶Ü –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —É—Ç–∫–∞';
                eggTypeDisplay.style.display = 'inline-block';
                deathMessage.style.display = 'none';
                
                // –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–º–ª–µ–Ω–∏—è –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—ã—Ç–æ—Å—Ç–∏ 100
                feedBtn.disabled = playerData.foodCount <= 0 || playerData.hunger >= 100;
                
                // –ö–Ω–æ–ø–∫–∞ –∏–≥—Ä—ã –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ 100
                playBtn.disabled = playerData.mood >= 100;

                if (playerData.eggHatchTime && !playerData.isEggReady) {
                    timer.style.display = 'block';
                    hatchBtn.style.display = 'none';
                } else if (playerData.isEggReady) {
                    timer.style.display = 'none';
                    hatchBtn.style.display = 'block';
                } else {
                    timer.style.display = 'none';
                    hatchBtn.style.display = 'none';
                }
            }
        }

        // –ú–∞–≥–∞–∑–∏–Ω
        let currentItemToBuy = null;

        function openShop() {
            document.getElementById('shopModal').classList.add('active');
        }

        function closeShop() {
            document.getElementById('shopModal').classList.remove('active');
        }

        function buyItem(itemType, cost) {
            currentItemToBuy = { type: itemType, cost: cost };
            
            let itemName = '';
            switch(itemType) {
                case 'gold_egg': itemName = '–ó–æ–ª–æ—Ç–∞—è —É—Ç–∫–∞'; break;
                case 'food': itemName = '–ï–¥–∞ (3 —à—Ç)'; break;
                case 'normal_egg': itemName = '–û–±—ã—á–Ω–∞—è —É—Ç–∫–∞'; break;
            }
            
            document.getElementById('confirmText').textContent = `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å ${itemName} –∑–∞ ${cost} –∑–≤—ë–∑–¥?`;
            document.getElementById('confirmModal').classList.add('active');
        }

        function confirmPurchase() {
            if (!currentItemToBuy) return;

            if (playerData.stars < currentItemToBuy.cost) {
                showNotification('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤—ë–∑–¥!');
                closeConfirm();
                return;
            }

            playerData.stars -= currentItemToBuy.cost;

            switch(currentItemToBuy.type) {
                case 'gold_egg':
                    playerData.eggType = 'gold';
                    showNotification('‚ú® –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –∑–æ–ª–æ—Ç–∞—è —É—Ç–∫–∞!');
                    break;
                case 'food':
                    playerData.foodCount += 3;
                    showNotification('üçé –ó–∞–ø–∞—Å –µ–¥—ã –ø–æ–ø–æ–ª–Ω–µ–Ω!');
                    break;
                case 'normal_egg':
                    playerData.isAlive = true;
                    playerData.hunger = 50;
                    playerData.mood = 50;
                    playerData.eggType = 'normal';
                    showNotification('ü¶Ü –ù–æ–≤–∞—è —É—Ç–∫–∞ –∫—É–ø–ª–µ–Ω–∞!');
                    break;
            }

            savePlayerData();
            updateUI();
            closeConfirm();
            closeShop();
        }

        function closeConfirm() {
            document.getElementById('confirmModal').classList.remove('active');
            currentItemToBuy = null;
        }

        // –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏ –≤—ã–≤–æ–¥
        let currentWithdrawItem = null;

        function openInventory() {
            const inventoryItems = document.getElementById('inventoryItems');
            
            if (playerData.items.length === 0) {
                inventoryItems.innerHTML = `
                    <div class="empty-inventory">
                        <h3>üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</h3>
                        <p>–£—Ö–∞–∂–∏–≤–∞–π—Ç–µ –∑–∞ —É—Ç–∫–æ–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã!</p>
                    </div>
                `;
            } else {
                let itemsHTML = '';
                playerData.items.forEach((item, index) => {
                    itemsHTML += `
                        <div class="inventory-item">
                            <span>${item.name}</span>
                            <button class="withdraw-btn" onclick="startWithdraw(${index})">–í—ã–≤–æ–¥</button>
                        </div>
                    `;
                });
                inventoryItems.innerHTML = itemsHTML;
            }
            
            document.getElementById('inventoryModal').classList.add('active');
        }

        function closeInventory() {
            document.getElementById('inventoryModal').classList.remove('active');
        }

        function startWithdraw(itemIndex) {
            currentWithdrawItem = itemIndex;
            const item = playerData.items[itemIndex];
            document.getElementById('withdrawItemName').textContent = item.name;
            document.getElementById('telegramUsername').value = '';
            document.getElementById('withdrawModal').classList.add('active');
        }

        function closeWithdraw() {
            document.getElementById('withdrawModal').classList.remove('active');
            currentWithdrawItem = null;
        }

        function submitWithdraw() {
            const telegram = document.getElementById('telegramUsername').value;
            if (!telegram) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ Telegram username!');
                return;
            }

            const item = playerData.items[currentWithdrawItem];
            
            // –°–æ–∑–¥–∞–µ–º –∑–∞—è–≤–∫—É –Ω–∞ –≤—ã–≤–æ–¥
            const withdrawRequest = {
                playerId: playerData.id,
                item: item.name,
                telegram: telegram,
                timestamp: Date.now(),
                itemId: item.id,
                status: 'pending'
            };
            
            withdrawRequests.push(withdrawRequest);
            
            // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥–º–µ—Ç –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
            playerData.items.splice(currentWithdrawItem, 1);
            
            savePlayerData();
            updateUI();
            closeWithdraw();
            closeInventory();
            
            showNotification('‚úÖ –ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –° –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è –≤ Telegram.');
            updateWithdrawRequests();
        }

        // –ê–¥–º–∏–Ω: –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—ã–≤–æ–¥
        function completeWithdraw(requestIndex) {
            if (!isAdmin) {
                showNotification('‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω!');
                return;
            }

            const request = withdrawRequests[requestIndex];
            if (confirm(`–û—Ç–º–µ—Ç–∏—Ç—å –∑–∞—è–≤–∫—É –æ—Ç ${request.playerId} –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é?\n–ü—Ä–µ–¥–º–µ—Ç: ${request.item}\nTelegram: ${request.telegram}`)) {
                withdrawRequests.splice(requestIndex, 1);
                savePlayerData();
                updateWithdrawRequests();
                showNotification('‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è!');
            }
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å - –í–´–î–ê–ß–ê –ó–í–ï–ó–î
        document.getElementById('adminToggle').onclick = function() {
            if (!isAdmin) return;
            
            const adminPanel = document.getElementById('adminPanel');
            adminPanel.classList.toggle('active');
            this.textContent = adminPanel.classList.contains('active') ? 'üîß –°–∫—Ä—ã—Ç—å –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å' : 'üîß –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å';
        };

        document.getElementById('adminApply').onclick = function() {
            if (!isAdmin) {
                showNotification('‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω!');
                return;
            }

            const playerIdInput = document.getElementById('adminPlayerId').value;
            const starsInput = parseInt(document.getElementById('adminStars').value);

            if (!playerIdInput || !starsInput) {
                showNotification('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ ID –∏–≥—Ä–æ–∫–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥!');
                return;
            }

            if (starsInput <= 0) {
                showNotification('‚ùå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0!');
                return;
            }

            // –ù–∞—Ö–æ–¥–∏–º –∏–≥—Ä–æ–∫–∞ –∏ –≤—ã–¥–∞–µ–º –∑–≤–µ–∑–¥—ã
            const savedPlayerData = localStorage.getItem('playerData_' + playerIdInput);
            if (!savedPlayerData) {
                showNotification('‚ùå –ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }

            const player = JSON.parse(savedPlayerData);
            player.stars += starsInput;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
            localStorage.setItem('playerData_' + playerIdInput, JSON.stringify(player));

            // –ï—Å–ª–∏ —ç—Ç–æ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ - –æ–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            if (playerIdInput === playerData.id) {
                playerData.stars += starsInput;
                updateUI();
            }

            showNotification(`‚úÖ –í—ã–¥–∞–Ω–æ ${starsInput} –∑–≤—ë–∑–¥ –∏–≥—Ä–æ–∫—É ${playerIdInput}`);
            
            document.getElementById('adminPlayerId').value = '';
            document.getElementById('adminStars').value = '';
        };

        document.getElementById('adminReset').onclick = function() {
            if (!isAdmin) {
                showNotification('‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω!');
                return;
            }

            const playerIdInput = document.getElementById('adminPlayerId').value;
            
            if (!playerIdInput) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ ID –∏–≥—Ä–æ–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞!');
                return;
            }

            if(confirm(`–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä–æ–∫–∞ ${playerIdInput}?`)) {
                const defaultData = {
                    id: playerIdInput,
                    hunger: 25,
                    mood: 97,
                    stars: 0,
                    items: [],
                    eggType: 'normal',
                    foodCount: 3,
                    isAlive: true,
                    eggHatchTime: null,
                    isEggReady: false,
                    hasFedToday: false,
                    quests: {
                        subscribe: { completed: false, claimed: false },
                        invite: { progress: 0, target: 5, claimed: false }
                    },
                    referredBy: '',
                    referralCount: 0,
                    referralRewards: 0
                };
                
                localStorage.setItem('playerData_' + playerIdInput, JSON.stringify(defaultData));
                
                // –ï—Å–ª–∏ —ç—Ç–æ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ - –æ–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                if (playerIdInput === playerData.id) {
                    playerData = defaultData;
                    updateUI();
                }
                
                showNotification(`‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä–æ–∫–∞ ${playerIdInput} —Å–±—Ä–æ—à–µ–Ω!`);
                document.getElementById('adminPlayerId').value = '';
            }
        };

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.getElementById('feedBtn').onclick = feedPet;
        document.getElementById('playBtn').onclick = playWithPet;
        document.getElementById('hatchBtn').onclick = hatchEgg;
        document.getElementById('shopBtn').onclick = openShop;
        document.getElementById('inventoryBtn').onclick = openInventory;
        document.getElementById('questsBtn').onclick = openQuests;
        document.getElementById('referralBtn').onclick = openReferral;
        document.getElementById('closeShop').onclick = closeShop;
        document.getElementById('verifyQuest').onclick = verifyQuestCompletion;

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        document.getElementById('shopModal').onclick = function(e) {
            if (e.target === this) closeShop();
        };
        document.getElementById('confirmModal').onclick = function(e) {
            if (e.target === this) closeConfirm();
        };
        document.getElementById('inventoryModal').onclick = function(e) {
            if (e.target === this) closeInventory();
        };
        document.getElementById('withdrawModal').onclick = function(e) {
            if (e.target === this) closeWithdraw();
        };
        document.getElementById('questsModal').onclick = function(e) {
            if (e.target === this) closeQuests();
        };
        document.getElementById('referralModal').onclick = function(e) {
            if (e.target === this) closeReferral();
        };

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        initGame();
    </script>
</body>
</html>
